<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ãƒ¬ã‚¤ãƒ©ãƒ»ãƒã‚°ãƒãƒªã‚¢éå…¬å¼ãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆ</title>
        <link rel="stylesheet" type="text/css" href="./css/index.css">
        <link rel="icon" type="image/x-icon" href="./src/pagelogo.png">

        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-1GJHHNYD65"></script>
        <!--script src="https://apis.google.com/js/api.js"></script-->

        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-1GJHHNYD65');
        </script>
        <script>
            (function(d) {
              var config = {
                kitId: 'vnx5ouf',
                scriptTimeout: 3000,
                async: true
              },
              h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
            })(document);
        </script>

    </head>

        

    <body>
        <header class="header">
            <div class="header_inner">
                <div class="logo">
                    <img id="layla_logo" src="src/layla_funsite_log.png" onclick="secBtn()">
                </div>
                <nav class="nav">
                    <ul class="nav_list">
                        <li class="nav_item"><a id="menu_sch" href="https://ringodeveloper.github.io/kon-layla/">ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</a></li>
                        <li class="nav_item"><a id="menu_ht" href="https://ringodeveloper.github.io/kon-layla/hashtags.html">ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°</a></li>
                        <li class="nav_item"><a id="menu_poty" href="https://ringodeveloper.github.io/kon-layla/poty2022.html">POTY</a></li>
                        <li class="nav_item"><a id="menu_qa" href="https://ringodeveloper.github.io/kon-layla/qa.html">ãŠå•ã„åˆã‚ã›</a></li>
                        <li class="nav_item"><a id="menu_pp" href="https://ringodeveloper.github.io/kon-layla/pp.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
                    </ul>
                </nav>
            </div>
            <div class="hamburger" id="js-hamburger">
                <span class="hamburger_border hamburger_border_top"></span>
                <span class="hamburger_border hamburger_border_center"></span>
                <span class="hamburger_border hamburger_border_bottom"></span>
            </div>
            <div class="black_bg" id="js-black-bg"></div>
        </header>
        
        <main class="main">
            <div id="link">
                <!--a href="https://twitter.com/Layla__Magnolia?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @Layla__Magnolia</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><br-->
                <a href="https://twitter.com/intent/tweet?button_hashtag=ãªã¾ãƒ¢ã‚¯ãƒ¬ãƒ³&ref_src=twsrc%5Etfw" class="twitter-hashtag-button" data-size="large" data-lang="ja" data-show-count="false">#ãªã¾ãƒ¢ã‚¯ãƒ¬ãƒ³ã‚’ãƒ„ã‚¤ãƒ¼ãƒˆã™ã‚‹</a>
            </div>            
            <img class="ringo" id="ringo" src="src/ringodev_logo_v2.png" width="45", height="45" onclick="ringoBtn()">
            
            <br>
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            
            

            <div class="titleScripts">
                <h1 id="kon-layla">ã“ã‚“ãƒ¬ã‚¤ãƒ©ï¼</h1><br>
            </div>
            <p class="description_text">
                ãƒ¬ã‚¤ãƒ©ãƒ»ãƒã‚°ãƒãƒªã‚¢éå…¬å¼ãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆã¸ã‚ˆã†ã“ã<br>
                å½“ã‚µã‚¤ãƒˆã¯ã‚²ãƒ¼ãƒ å¤§å¥½ãå¸è¡€é¬¼VTuberã®ãƒ¬ã‚¤ãƒ©ãƒ»ãƒã‚°ãƒãƒªã‚¢ã•ã‚“ã‚’æ”¯æ´ã™ã‚‹ç›®çš„ã§ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆã§ã™ã€‚<br>
                æ˜¯éã”æ´»ç”¨ãã ã•ã„ï¼<br>
            </p>
            <p class="description_text" id="no-display-sp">
                ã¾ãŸã€å½“ã‚µã‚¤ãƒˆã¯é–‹ç™ºä¸­ã®ã‚‚ã®ã§ã™ã€‚ä¸å®šæœŸã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå®Ÿæ–½ã•ã‚Œã¾ã™ã€‚<br>
                ä¸å…·åˆã‚„æ©Ÿèƒ½ã®ã”è¦æœ›ç­‰ã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ã«ã¦ãŠç”³ã—ä»˜ã‘ãã ã•ã„ã€‚<br>
                ä»Šå¾Œã¨ã‚‚å½“ã‚µã‚¤ãƒˆã‚’ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚ 
            </p>
            <p class="description_text">
                ç®¡ç†äºº ã‚Šã‚“ã”ã§ã¹ã‚ã£ã±
                <br>
            </p> 
            <div class="links" id="links">
                <a href="https://www.youtube.com/channel/UCm-nZofnh3_1s_l2Gq3G1KQ?sub_confirmation=1" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/youtube_social_square_white.png"></a>
                <a href="https://twitter.com/Layla__Magnolia" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/Twitter social icons - square - blue.png"></a>
                <a href="https://www.twitch.tv/layla_magnolia" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/twitch-logo.png"></a>
                <a href="https://www.tiktok.com/@layla_magnolia" target="_blank" rel="noopener noreferrer"><img class="link-logo" id="tiktok" src="./src/logo/tiktok-app-icon-seeklogo.com.svg"></a>
                <a href="https://layla-magnolia.fanbox.cc/" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/fanbox-logo.png"></a>
                <a href="https://laylamagnolia.booth.pm/" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/logo_icon.png"></a>
                <a href="https://marshmallow-qa.com/layla__magnolia" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/mshumaro-logo.png"></a>
                <a href="https://www.amazon.jp/hz/wishlist/ls/3VAKTD0I7HNQO?ref_=wl_share" target="_blank" rel="noopener noreferrer"><img class="link-logo" src="./src/logo/amazon_logo.png"></a>
            </div>

            <div class="button" id="button_sch">
                <a onclick="show_sch()">ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã“ã¡ã‚‰</a>
            </div>

            <div class="button" id="button_mo">
                <a onclick="goto_mo()">ãƒ¡ãƒ³é™ã¯ã“ã¡ã‚‰</a>
            </div>
                
            <label for="switch" class="switch_label" id="switch_label">
                <span class="title_blkapi">block API</span>
                <div class="switch"> 
                    <input type="checkbox" id="switch" />
                    <div class="circle"></div>
                    <div class="base"></div>
                </div>
            </label>

            <label for="switch_light" class="switch_light_label" id="switch_light_label">
                <span class="enable_lightmode">è»½é‡åŒ–ãƒ¢ãƒ¼ãƒ‰</span>
                <div class="switch_light">
                    <input type="checkbox" id="switch_light"/>
                    <div class="circle"></div>
                    <div class="base"></div>
                </div>
            </label>
    
            <script src="https://code.jquery.com/jquery-3.3.1.js"  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
            <script type="text/javascript" src="config.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
            <script type="text/javascript">
            const K_LIST = []; //ã‚­ãƒ¼ã‚’ç·¨é›†
            const Y_API_KEY1 = config.y_apikey_1;
            const Y_API_KEY2 = config.y_apikey_2;
            const Y_API_KEY3 = config.y_apikey_3;
            const Y_API_KEY_D1 = config.y_apikey_d1;
            const Y_API_KEY_D2 = config.y_apikey_d2;
            const DEV_KEY = config.dev_key;
            //K_LIST.push(Y_API_KEY1);
            //K_LIST.push(Y_API_KEY2);
            K_LIST.push(Y_API_KEY3);
            const max = K_LIST.length;
    
            $(function() {
                if (checkbox.checked) {
                    console.log("block_api")
                    return;
                }
                const promiseFunc = (value,value2) => {
                return new Promise((resolve, reject) => {
                    //console.log(value + value2);
                    $.ajax({
                    type: 'GET',
                    url: value + value2,
                    datatype: 'json',
                    success: function(json){
                        resolve(json.items);
                    },
                    error: function(){
                        reject();
                        
                        Swal.fire({
                            type: "warning",
                            title: "èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼",
                            html: "ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚<br>æã‚Œå…¥ã‚Šã¾ã™ãŒå†èª­ã¿è¾¼ã¿ã‚’ãŠè©¦ã—ãã ã•ã„ã€‚<br><br>è§£æ±ºã—ãªã„å ´åˆã¯ãŠæ‰‹æ•°ã§ã™ãŒã€ä¸‹è¨˜ãƒªãƒ³ã‚¯ã‚ˆã‚ŠãŠå•åˆã›ãã ã•ã„ã€‚",
                            footer: '<a href="https://ringodeveloper.github.io/kon-layla/qa.html" target="_blank">ã‚¨ãƒ©ãƒ¼ã‚’å ±å‘Šã™ã‚‹</a>',
                        });
                    }
                    });
                });
                };
                
                // éåŒæœŸé–¢æ•°
                async function asyncFunc() {
                    // ä¸¦è¡Œã—ã¦å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã€å…¨ã¦ã®å‡¦ç†ãŒçµ‚ã‚ã‚‹ã¾ã§å¾…æ©Ÿ
                    const values_upcoming = await Promise.all([
                        promiseFunc(base_youtube_url,'&channelId=UCm-nZofnh3_1s_l2Gq3G1KQ&eventType=upcoming'),
                    ]);
        
                    const values_live = await Promise.all([
                        promiseFunc(base_youtube_url,'&channelId=UCm-nZofnh3_1s_l2Gq3G1KQ&eventType=live'),
                    ]);
        
                    const values_completed = await Promise.all([
                        promiseFunc(base_youtube_url,'&channelId=UCm-nZofnh3_1s_l2Gq3G1KQ&eventType=completed')
                    ]);


                    /*
                    const values_channel = await Promise.all([
                        promiseFunc(base_youtube_url_channel,'&channelId=UCm-nZofnh3_1s_l2Gq3G1KQ')
                    ]);
                    */
                    
        
                    const jsonitem_u = values_upcoming.flat();
                    const jsonitem_l = values_live.flat();
                    const jsonitem_c = values_completed.flat();
                    
                    //const jsonitem_cn = values_channel.flat();
                    
                    /*
                    for (var i = 0; i < jsonitem_cn.length; i++) {
                        console.log(jsonitem_cn[i]);
                    }
                    */
                    
                    
                    if (/*jsonitem_l.length < 1*/false) {
                        //document.getElementById("youtubeList_l").style.visibility = "hidden";
                    } else {
                        $("#youtubeList_l").append('<h2 class="statetext">é…ä¿¡ä¸­ğŸ¥</h2>');
                        $("#youtubeList_l").append('<div id="youtubeList_l_inner"></div>');
                        for(var i = 0; i < jsonitem_l.length; i++){
                            var ID = jsonitem_l[i].id.videoId;
                            var TITLE = jsonitem_l[i].snippet.title;
                            await checkVideoStatus(ID, false, TITLE);
                            /*
                            var TN_URL = `https://img.youtube.com/vi/${ID}/maxresdefault.jpg`;    
                            if (retCheckDev()) {
                                //é…ä¿¡ä¸­ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤º
                                if (checkLightMode()) {
                                    //light mode
                                    $("#youtubeList_l_inner").append('<div class="iframe_wrapper"><a href=' + 'https://www.youtube.com/watch?v=' + ID + ' target="_blank" rel="noopener noreferrer"><img class="thumb" src=' + TN_URL + '><img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">' + TITLE + '</h2></a></div>'); /////
                                } else {
                                    //nomal mode
                                    $("#youtubeList_u_inner").append('<div class="iframe_wrapper"><h2 class="sc-time">' +DATETIME_formated + '</h2><iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe></div>'); /////
                                }
                            } else {
                                //nomal mode
                                $("#youtubeList_l_inner").append('<div class="iframe_wrapper"><a href=' + 'https://www.youtube.com/watch?v=' + ID + ' target="_blank" rel="noopener noreferrer"><img class="thumb" src=' + TN_URL + '><img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">' + TITLE + '</h2></a></div>'); /////
                            }
                            */
                        }
                    }
        
        
                    

                    //sort of upcom live
                    let videoId_u = [];
                    let videoId_u_string = '';
                    let video_u_obj_list = [];
                    loop: for(var i = jsonitem_u.length-1; i >= 0; i--){
                        if ((jsonitem_l.length != 0) && (jsonitem_l[0].id.videoId == jsonitem_u[i].id.videoId)) {
                            continue;
                        }
                        for (j = 0; j < jsonitem_c.length; j++) {
                            if (jsonitem_u[i].id.videoId == jsonitem_c[j].id.videoId) {
                                continue loop;
                            }
                        }
                        var ID = jsonitem_u[i].id.videoId;
                        //upcomming video ã®IDã‚’åˆ—æŒ™
                        videoId_u.push(ID);
                        videoId_u_string += (ID + ',');
                        //console.log(videoId_u_string);
                        //$("#youtubeList_u").append('<iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe>');
                    }
                    /* upcomingVideoåˆ—æŒ™*/
                    (function ($) {
                        $(function () {
                            $.ajax({
                                url: (base_youtube_url_live+videoId_u_string) + '&channelId=UCm-nZofnh3_1s_l2Gq3G1KQ&eventType=completed',
                                type: 'GET',
                                dataType: "json",
                                }).done(function (data) {
                                // success
                                //å–å¾—jsonãƒ‡ãƒ¼ã‚¿
                                var data_stringify = JSON.stringify(data);
                                var data_json = JSON.parse(data_stringify);
                                //jsonãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å„ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
                                let jsonitem_ld = data_json["items"];
                                for (let i = 0; i < jsonitem_ld.length; i++) {
                                    time = Date.parse(jsonitem_ld[i].liveStreamingDetails.scheduledStartTime);
                                    date = new Date(time);
                                    video_u_obj_list.push({videoid: videoId_u[i], time: date, mo: false});
                                }
                                video_u_obj_list = push_mo_ul(video_u_obj_list); //ãƒ¡ãƒ³é™ã‚’æ ¼ç´
                                /* //////////////////////////////here
                                const entries = Object.entries(video_u_obj_list);
                                entries.sort(
                                    (a, b) => moment(a.time).diff(b.time)
                                );
                                const video_u_obj_list_sorted = Object.fromEntries(entries);
                                console.log(video_u_obj_list_sorted);
                                for (let i = 0; i < video_u_obj_list_sorted.length; i++) {
                                    var ID = video_u_obj_list_sorted[i].videoid;
                                    var TN_URL = `https://img.youtube.com/vi/${ID}/maxresdefault.jpg`;
                                    console.log(i);
                                    var DATETIME = video_u_obj_list_sorted[i].time;
                                    var year = DATETIME.getFullYear() ;	// å¹´
                                    var month = DATETIME.getMonth() + 1 ;	// æœˆ
                                    var day = DATETIME.getDate() ;	// æ—¥
                                    var hour = DATETIME.getHours() ;	// æ™‚
                                    var minute = DATETIME.getMinutes() ;	// åˆ†
                                    var second = DATETIME.getSeconds() ;	// ç§’
                                    var dayOfWeek = DATETIME.getDay() ;	// æ›œæ—¥(æ•°å€¤)
                                    var dayOfWeekStr = [ "æ—¥", "æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ" ][dayOfWeek] ;	// æ›œæ—¥(æ—¥æœ¬èªè¡¨è¨˜)
                                    var DATETIME_formated = `${month}/${day} (${dayOfWeekStr}) ${hour}:${minute.toString().padStart(2, '0')}`;
                                    //$("#youtubeList_u_inner").append(''); /////

                                    //é…ä¿¡äºˆå®šã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤º

                                    if (video_u_obj_list_sorted[i].mo == true) { //ãƒ¡ãƒ³é™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
                                        if (checkLightMode()) {
                                        //developer mode
                                        //console.log("https://www.youtube.com/watch?v=" + ID);
                                        $("#youtubeList_u_inner").append('<div class="iframe_wrapper_m"><a href=' + 'https://www.youtube.com/watch?v=' + ID + ' target="_blank" rel="noopener noreferrer"><img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">' +DATETIME_formated + '</h2><img class="thumb" src=' + TN_URL + '></a></div>'); /////
                                        } else {
                                            //nomal mode
                                            $("#youtubeList_u_inner").append('<div class="iframe_wrapper_m"><h2 class="sc-time">' +DATETIME_formated + '</h2><iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe></div>'); /////
                                        }
                                    } else {                                    //å…¬é–‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
                                        if (checkLightMode()) {
                                        //developer mode
                                        //console.log("https://www.youtube.com/watch?v=" + ID);
                                        $("#youtubeList_u_inner").append('<div class="iframe_wrapper"><a href=' + 'https://www.youtube.com/watch?v=' + ID + ' target="_blank" rel="noopener noreferrer"><img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">' +DATETIME_formated + '</h2><img class="thumb" src=' + TN_URL + '></a></div>'); /////
                                        } else {
                                            //nomal mode
                                            $("#youtubeList_u_inner").append('<div class="iframe_wrapper"><h2 class="sc-time">' +DATETIME_formated + '</h2><iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe></div>'); /////
                                        }
                                    }
                                    
                                }
                                */
                            }).fail(function (data) {
                            // error
                            console.log('error');
                            });
                        });
                    })(jQuery);

                    //sort op comp live
                    let videoId_c = [];
                    let videoId_c_string = '';
                    let video_c_obj_list = [];
                    for(var i = 0; i < jsonitem_c.length; i++){
                        //è»½é‡åŒ–ç”¨ã®ãƒ†ã‚¹ãƒˆ
                        //ã‚µãƒ ãƒã‚¤ãƒ«ã®img URLã‚’è¡¨ç¤º
                        //console.log(jsonitem_c[i].snippet.thumbnails.high); ///
                        var ID = jsonitem_c[i].id.videoId;
                        var TN_URL = `https://img.youtube.com/vi/${ID}/maxresdefault.jpg`;
                        //completed video ã®IDã‚’åˆ—æŒ™
                        videoId_c.push(ID);
                        videoId_c_string += (ID + ',');
                        //$("#youtubeList_c").append('<iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe>'); /////
                    }

                    /* completedVideoåˆ—æŒ™é–¢æ•° */
                    (function ($) {
                        $(function () {
                            $.ajax({
                                url: (base_youtube_url_live+videoId_c_string) + '&channelId=UCm-nZofnh3_1s_l2Gq3G1KQ&eventType=completed',
                                type: 'GET',
                                dataType: "json",
                                }).done(function (data) {
                                // success
                                //å–å¾—jsonãƒ‡ãƒ¼ã‚¿
                                var data_stringify = JSON.stringify(data);
                                var data_json = JSON.parse(data_stringify);
                                //jsonãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å„ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
                                let jsonitem_ld = data_json["items"];
                                var time_total = 0;
                                for (let i = 0; i < jsonitem_ld.length; i++) {
                                    start_time = Date.parse(jsonitem_ld[i].liveStreamingDetails.actualStartTime);
                                    end_time = Date.parse(jsonitem_ld[i].liveStreamingDetails.actualEndTime);
                                    //console.log((end_time - start_time) / 1000);
                                    time_total += Math.floor((end_time - start_time) / 1000);
                                    date = new Date(start_time);
                                    video_c_obj_list.push({videoid: videoId_c[i], time: date});
                                }
                                //console.log(time_total);
                                let num_cv = check_num_cv();
                                let time_total_ave = Math.floor(time_total / parseInt(num_cv));
                                const time_total_sec = (time_total_ave%60).toString().padStart(2, '0');
                                const time_total_min = (Math.floor(time_total_ave/60)%60).toString().padStart(2, '0');
                                const time_total_hour = Math.floor(time_total_ave/3600)%60;
                        
                                time_total_ave_formated = `${time_total_hour}:${time_total_min}:${time_total_sec}`;
                                
                                $(".statetext_top").append(`<h2 class="ave_time">æœ€è¿‘${num_cv}å›ã®å¹³å‡é…ä¿¡æ™‚é–“  ` + time_total_ave_formated + '</h2>');
                                let video_c_obj_list_sorted = video_c_obj_list.sort(
                                    (a, b) => moment(b.time).diff(a.time)
                                );
                                for (let i = 0; i < video_c_obj_list_sorted.length; i++) {
                                    var DATETIME = video_c_obj_list_sorted[i].time;
                                    var year = DATETIME.getFullYear() ;	// å¹´
                                    var month = DATETIME.getMonth() + 1 ;	// æœˆ
                                    var day = DATETIME.getDate() ;	// æ—¥
                                    var hour = DATETIME.getHours() ;	// æ™‚
                                    var minute = DATETIME.getMinutes() ;	// åˆ†
                                    var second = DATETIME.getSeconds() ;	// ç§’
                                    var dayOfWeek = DATETIME.getDay() ;	// æ›œæ—¥(æ•°å€¤)
                                    var dayOfWeekStr = [ "æ—¥", "æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ" ][dayOfWeek] ;	// æ›œæ—¥(æ—¥æœ¬èªè¡¨è¨˜)
                                    var DATETIME_formated = `${month}/${day} (${dayOfWeekStr}) ${hour}:${minute.toString().padStart(2, '0')}`;
                                    var ID = video_c_obj_list_sorted[i].videoid;
                                    var TN_URL = `https://img.youtube.com/vi/${ID}/maxresdefault.jpg`;
                                    //$("#youtubeList_c_inner").append('<div class="iframe_wrapper"><h2>' +DATETIME_formated + '</h2><iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe></div>'); /////
                                    
                                    if (checkLightMode()) {
                                        //developer mode
                                        //console.log("https://www.youtube.com/watch?v=" + ID);
                                        //$("#youtubeList_c_inner").append('<div class="iframe_wrapper_c"><a href=' + 'https://www.youtube.com/watch?v=' + ID + '><img class="thumb" src=' + TN_URL + '></a></div>');
                                        $("#youtubeList_c_inner").append('<div class="iframe_wrapper"><a href=' + 'https://www.youtube.com/watch?v=' + ID + ' target="_blank" rel="noopener noreferrer"><img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">' +DATETIME_formated + '</h2><img class="thumb" src=' + TN_URL + '></a></div>'); /////
                                    } else {
                                        //nomal mode
                                        $("#youtubeList_c_inner").append('<div class="iframe_wrapper_c"><iframe src="https://www.youtube.com/embed/' + ID + '" frameborder="1" sandbox="allow-scripts allow-popups allow-forms allow-same-origin allow-popups-to-escape-sandbox allow-downloads allow-modals" allowfullscreen></iframe></div>'); /////
                                    }
                                    
                                    
                                }
                            }).fail(function (data) {
                            // error
                            console.log('error');
                            });
                        });
                    })(jQuery);
                }
                
    
                asyncFunc();
            });
            </script>
    
            <div class="contents-wapper2">
                <div id="youtubeList_l">
                </div>
                <div id="youtubeList_u">
                    <h2 class="statetext">é…ä¿¡äºˆå®š</h2>
                    <div id="youtubeList_u_inner"></div>
                </div>
                <div class="notdevelm" id="youtubeList_singing">
                    <h2 class="statetext" id="statetext_sing">æ­Œã£ã¦ã¿ãŸğŸ¤</h2>
                    <div id="youtubeList_singing_inner">
                        <div class="iframe_wrapper_singing"><a href="https://www.youtube.com/watch?v=mNkMnQJAfKg" target="_blank" rel="noopener noreferrer"><img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">1000äººè¨˜å¿µ æ­Œã£ã¦ã¿ãŸå…¬é–‹ä¸­ï¼</h2><img class="thumb" src="https://img.youtube.com/vi/mNkMnQJAfKg/maxresdefault.jpg"></a></div>
                    </div>
                </div>
                <div id="youtubeList_c">
                    <div class="statetext_top">
                        <h2 class="statetext">ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</h2>
                    </div>
                    <div>
                        <span id="title_shownum" >è¡¨ç¤ºæ•°</span>
                        <select id="numSelect" onchange="update_num_CV()">
                            <option value="20">20</option>
                            <option value="30">30</option>
                            <option value="40">40</option>
                        </select>
                    </div>
                    <script>
                        let num_cv = localStorage.getItem('num_cv');
                        if (num_cv == null) {
                            num_cv = "20";
                        }
                        document.getElementById('numSelect').value = num_cv;
                    </script>
                    <div id="youtubeList_c_inner"></div>
                </div>

                <div id="youtubeList_m">
                    <div class="statetext">
                        <h2 class="statetext">ãƒ¡ãƒ³ãƒãƒ¼é™å®šé…ä¿¡ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</h2>
                    </div>
                    <div id="youtubeList_m_inner"></div>
                </div>



                <div class="develm" id="youtubeList_test">
                    <h2 class="statetext">ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
                    <div id="youtubeList_test_inner">
                        <div class="iframe_wrapper_test">
                            <a href="https://www.youtube.com/watch?v=tOh9SteCSjc">
                                <img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">12/1(æœ¨) 22:30</h2>
                                <img class="thumb" src="https://img.youtube.com/vi/tOh9SteCSjc/maxresdefault.jpg">
                            </a>
                        </div>
                        <div class="iframe_wrapper_test">
                            <a href="https://www.youtube.com/watch?v=7UlSmDggDGI">
                                <img class="inner-logo" src="./src/logo/youtube_social_icon_red.png"><h2 class="sc-time" style="color:black">12/1(æœ¨) 22:30</h2>
                                <img class="thumb" src="https://img.youtube.com/vi/7UlSmDggDGI/maxresdefault.jpg">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <ul class="footer_menu">
                <a href="https://ringodeveloper.github.io/kon-layla/README.txt"><li id="version"></li></a>
                <li><br></li>
                <a href="https://twitter.com/_ringodev_"><li id="cc">&copy; 2023 ã‚Šã‚“ã”ã§ã¹ã‚ã£ã± All Rights Reserved.</li></a>
            </ul>
            <script>
                const VERSION = config.version;
                let elm_ver = document.getElementById("version");
                elm_ver.textContent = VERSION;
            </script>
        </footer>

        <script src="./js/index.js"></script>
    </body>
    
</html>
